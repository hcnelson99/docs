\documentclass[11pt, a4paper, twoside, openright]{report}

%\usepackage{vuwthesis} % sets up some local things, mostly the front page

\usepackage{palatino} % sets palatino as the default font

\usepackage{url} % for typesetting urls

\usepackage{bm}
\usepackage{listings}
\usepackage{proof}
\usepackage{amssymb}
\usepackage[margin=.9in]{geometry}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{enumitem}
\usepackage{filecontents}
\usepackage{calc}
\usepackage[linewidth=0.5pt]{mdframed}
\usepackage{changepage}
\usepackage{ebproof}

\usepackage{thmtools}
\usepackage{thm-restate}

\usepackage{color}
\definecolor{grey}{gray}{0.92}

\lstset{
tabsize=3,
basicstyle=\ttfamily\small, commentstyle=\itshape\rmfamily, 
backgroundcolor=\color{grey},
numbers=left,
numberstyle=\tiny,
language=java,
moredelim=[il][\sffamily]{?},
mathescape=true,
showspaces=false,
showstringspaces=false,
columns=fullflexible,
escapeinside={(@}{@)}, morekeywords=[1]{def, if, then, else, with, val}}
\lstloadlanguages{Java,VBScript,XML,HTML}



% Allows numbered theorems, lemmata, etc.
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}

\newcommand\defn{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny\sffamily def}}}{=}}}

\newcommand{\letxpr}[3]{\kw{let} #1 = #2~\kw{in} #3}	
\newcommand{\cond}[3]{\kw{if} #1~ \kw{then} #2~\kw{else} #3}
\newcommand{\fix}[1]{\kw{fix} #1}

\newcommand{\unit}{\kwa{unit}}
\newcommand{\Unit}{\kwa{Unit}}
\newcommand{\Int}{\kwa{Int}}
\newcommand{\Bool}{\kwa{Bool}}
\newcommand{\Real}{\kwa{Real}}
\newcommand{\Nat}{\kwa{Nat}}
\newcommand{\true}{\kwa{true}}
\newcommand{\false}{\kwa{false}}
\newcommand{\fst}{\kwa{fst}}
\newcommand{\snd}{\kwa{snd}}
\newcommand{\File}{\kwa{File}}
\newcommand{\hyphen}{\hbox{-}}
\newcommand{\kwa}[1]{\mathtt{#1}}
\newcommand{\kw}[1]{\mathtt{#1}~}
\newcommand{\reftype}[2]{\kwa{ref}(#1, #2)}

% Expressions.
\newcommand{\import}[4]{\kwa{import}(#1)~#2 = #3~\kw{in} #4}

\newcommand{\refnew}[4]{\kwa{new}_{#1} #2 = #3~\kw{in} #4}

% Functions.
\newcommand{\annot}[2]{\kwa{annot}(#1, #2)}
\newcommand{\erase}[1]{\kwa{erase}(#1)}
\newcommand{\fx}[1]{\kwa{effects}(#1)}
\newcommand{\hofx}[1]{\kwa{ho \hyphen effects}(#1)}

% Predicates.
\newcommand{\safe}[2]{\kwa{safe}(#1, #2)}
\newcommand{\hosafe}[2]{\kwa{ho \hyphen safe}(#1, #2)}

% Calculi

\newcommand{\stlc}{\lambda^{\rightarrow}}

\newcommand{\opercalc}{\kwa{OC}}

\newcommand{\epscalc}{\kwa{CC}}

\newcommand{\calc}
{\kwa{EBL}}

\newcommand{\fxtute}{\kwa{SEA}}



%\renewcommand{\baselinestretch}{1.00}


%
%  We don't want figures to float so we define
%
\usepackage{float} % lets you have non-floating floats
\newfloat{fig}{thp}{lof}[chapter]
\floatname{fig}{Figure}

\usepackage[font,ecs,bschonscomp]{vuwproject}

\title{Capability-Flavoured Effects}
\author{Aaron Craig}

\date{}

\begin{document}

\frontmatter
% Book style knows about front matter
% Report style doesn't so you need to set roman numbering etc yourself :-(

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\supervisor{Alex Potanin, Lindsay Groves, Jonathan Aldrich (CMU)}

%\subject{Computer Science}

\begin{abstract}
  Many modern applications require developers to build safe systems
  out of potentially unsafe components, but existing languages are
  insufficient in the techniques they provide for identifying
  untrustworthy or unsafe code. This report explores how
  capability-safety enables a low-overhead effect-system
  by introducing a capability calculus $\epscalc$. The way in which
  it can help developers make more informed decisions
  about whether to trust code is illustrated with several examples.
  
\end{abstract}

%\otherdegree{Bachelor of Science with Honours}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




\maketitle

\include{acknowledgements}

\tableofcontents


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% book style knows about mainmatter
% if you are using report style you will have to rest page numbering etc.
\mainmatter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% individual chapters included here

\include{intro}
\include{background}
\include{calculus}
\include{applications}
\include{evaluation}
\include{appendix}

%\bibliographystyle{iee2etr}
\bibliographystyle{acm}
\bibliography{myrefs}


\end{document}
