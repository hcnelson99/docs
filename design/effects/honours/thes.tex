\documentclass[12pt, a4paper, twoside, openright]{book}

\usepackage{vuwthesis} % sets up some local things, mostly the front page

\usepackage{palatino} % sets palatino as the default font

\usepackage{url} % for typesetting urls

\usepackage{bm}
\usepackage{listings}
\usepackage{proof}
\usepackage{amssymb}
\usepackage[margin=.9in]{geometry}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{enumitem}
\usepackage{filecontents}
\usepackage{calc}
\usepackage[linewidth=0.5pt]{mdframed}
\usepackage{changepage}

\usepackage{thmtools}
\usepackage{thm-restate}

\usepackage{color}
\definecolor{grey}{gray}{0.92}

\lstset{
tabsize=3,
basicstyle=\ttfamily\small, commentstyle=\itshape\rmfamily, 
backgroundcolor=\color{grey}{0.9},
numbers=left,
numberstyle=\tiny,
language=java,
moredelim=[il][\sffamily]{?},
mathescape=true,
showspaces=false,
showstringspaces=false,
columns=fullflexible,
escapeinside={(@}{@)}, morekeywords=[1]{def, if, then, else, with, val}}
\lstloadlanguages{Java,VBScript,XML,HTML}



% Allows numbered theorems, lemmata, etc.
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}

\newcommand\defn{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny\sffamily def}}}{=}}}

\newcommand{\letxpr}[3]{\kw{let} #1 = #2~\kw{in} #3}	

\newcommand{\unit}{\kwa{unit}}
\newcommand{\Unit}{\kwa{Unit}}

\newcommand{\hyphen}{\hbox{-}}
\newcommand{\kwa}[1]{\mathtt{#1}}
\newcommand{\kw}[1]{\mathtt{#1}~}

% Expressions.
\newcommand{\import}[4]{\kwa{import}(#1)~#2 = #3~\kw{in} #4}

% Functions.
\newcommand{\annot}[2]{\kwa{annot}(#1, #2)}
\newcommand{\erase}[1]{\kwa{erase}(#1)}
\newcommand{\fx}[1]{\kwa{effects}(#1)}
\newcommand{\hofx}[1]{\kwa{ho \hyphen effects}(#1)}

% Predicates.
\newcommand{\safe}[2]{\kwa{safe}(#1, #2)}
\newcommand{\hosafe}[2]{\kwa{ho \hyphen safe}(#1, #2)}


%\renewcommand{\baselinestretch}{1.00}


\begin{document}

\frontmatter
% Book style knows about front matter
% Report style doesn't so you need to set roman numbering etc yourself :-(

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\title{Capability-Flavoured Effects}
\author{Aaron Craig}

\subject{Computer Science}
\abstract{An abstract of fewer than 500 words must be included.}
% Books don't normally have abstracts, and this is a bit of a hack

% Uncomment the appropriate degree
%\phd
%\mscthesisonly
%\mscwithhonours
%\mscbothparts
\otherdegree{Bachelor of Science with Honours}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




\maketitle

\include{acknowledgements}

\tableofcontents


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% book style knows about mainmatter
% if you are using report style you will have to rest page numbering etc.
\mainmatter

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% individual chapters included here

\include{intro}
\include{background}
\include{calculus}
\include{applications}
\include{appendix}

%\bibliographystyle{iee2etr}
\bibliographystyle{acm}
\bibliography{myrefs}


\end{document}
